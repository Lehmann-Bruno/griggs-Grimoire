<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Grimório de Griggs</title>
  <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  <nav id="spell-navbar" class="navbar-active">
    <h1>Grimório de Griggs</h1>
      <ul class="options">
        <li id="nav-spellbook" class="spells-button"><a href="#" onclick="showPage('spellbook')">Spellbook</a></li>
        <li id="nav-cast" class="spells-button"><a href="#" onclick="showPage('cast')">Cast Spells</a></li>
        <li id="nav-settings" class="spells-button"><a href="#" onclick="openSettings()">Settings</a></li>
        <li id="nav-manager" class="spells-button"><a href="#" onclick="openSpellManager()">Manage Spells</a></li>

        <li class="nav-divider"></li>

        <li id="nav-magic" class="nav-pages"><a href="#" class="navbar-switch" onclick="showNavbar('magic'),showPage('spellbook')">Magic</a></li>
        <li id="nav-character" class="nav-pages"><a href="#" class="navbar-switch" onclick="showNavbar('character'),showPage('main')">Character Sheet</a></li>

    </ul>
  </nav>

  <nav id="character-navbar" class="navbar">
  <h1>Grimório de Griggs</h1>
      <ul class="options">
        <li id="nav-main" class="character-button"><a href="#" onclick="showPage('main')">Main</a></li>
        <li id="nav-skills" class="character-button"><a href="#">Skills</a></li>
        <li id="nav-feats" class="character-button"><a href="#">Feats</a></li>
        <li id="nav-equipment" class="character-button"><a href="#">Equipment</a></li>
        <li id="nav-notes" class="character-button"><a href="#">Notes</a></li>

        <li class="nav-divider"></li>

        <li id="nav-magic" class="nav-pages"><a href="#" class="navbar-switch" onclick="showNavbar('magic'),showPage('spellbook')">Magic</a></li>
        <li id="nav-character" class="nav-pages"><a href="#" class="navbar-switch" onclick="showNavbar('character'),showPage('main')">Character Sheet</a></li>
    </ul>
  </nav>

  <div id="spellbook" class="page active">
    <div class="spellbook-buttons">
      <input id="search" type="text" placeholder="Search spells...">
      <button id="clearAllButton" class="rest-button" style="background:#800000;margin-bottom:1rem;">
          Unprepare All Spells
      </button>
    </div>
    <div id="spells">Loading...</div>
  </div>

  <div id="cast" class="page">
    <div class="cast-layout">
      <div class="cast-list">
        <div id="checkedList"></div>
      </div>

      <div class="cast-right">
        <div id="spellDetail" class="spell-detail">
          <p class="placeholder">Hover over a spell to view its details.</p>
        </div>
      </div>
    </div>
  </div>

  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <h2>Spell & Cast Settings</h2>
      <p>Configure your daily spell limits and specialization mode.</p>

      <div id="specialistOptions" style="margin-bottom: 1rem;">
        <label style="margin-right:1rem;">
          <input type="checkbox" id="isSpecialist"> Specialist
        </label>
        <label style="margin-right:1rem;">
          <input type="checkbox" id="isHighSpecialist"> High Specialist
        </label>

        <label for="specialistSchool" style="font-weight:600;">School:</label>
        <select id="specialistSchool" style="background:#222;border:1px solid #333;color:#fff;border-radius:4px;padding:0.25rem;margin-left:0.5rem;">
          <option value="">-- None --</option>
          <option value="abjuration">Abjuration</option>
          <option value="conjuration">Conjuration</option>
          <option value="divination">Divination</option>
          <option value="enchantment">Enchantment</option>
          <option value="evocation">Evocation</option>
          <option value="illusion">Illusion</option>
          <option value="necromancy">Necromancy</option>
          <option value="transmutation">Transmutation</option>
        </select>
      </div>

      <form id="settingsForm"></form>

      <div class="modal-actions">
        <button id="saveSettings" type="button">Save</button>
        <button id="closeSettings" type="button">Close</button>
      </div>
    </div>
  </div>

  <div id="spellManagerModal" class="modal">
    <div class="modal-content">
      <h2>Manage Spells</h2>
      <p>Select which spells should appear in your spellbook.</p>
      
      <input id="spellSearchManager" type="text" placeholder="Search spells..." style="width:100%;margin-bottom:0.5rem;">
      <div id="spellFilterBar" style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:0.8rem;">
        <select id="spellFilterKey" style="background:#222;border:1px solid #333;color:#fff;border-radius:4px;padding:0.25rem;">
          <option value="">Filter by...</option>
          <option value="level">Level</option>
          <option value="components">Components</option>
          <option value="casting time">Casting Time</option>
          <option value="range">Range</option>
          <option value="duration">Duration</option>
          <option value="saving throw">Saving Throw</option>
          <option value="spell resistance">Spell Resistance</option>
          <option value="school">School</option>
          <option value="description">Description</option>
        </select>
        <input id="spellFilterValue" type="text" placeholder="Enter filter value..." style="flex:1;min-width:150px;background:#222;border:1px solid #333;color:#fff;border-radius:4px;padding:0.25rem;">
        <button id="applySpellFilter" style="background:#444;color:#fff;border:none;border-radius:4px;padding:0.25rem 0.8rem;cursor:pointer;">Apply Filters</button>
        <button id="clearSpellFilter" style="background:#800000;color:#fff;border:none;border-radius:4px;padding:0.25rem 0.8rem;cursor:pointer;">Clear</button>
      </div>
      <div id="spellManagerList" style="max-height:400px;overflow-y:auto;border:1px solid #333;padding:0.5rem;border-radius:6px;background:#222;"></div>

      <div class="modal-actions">
        <button id="saveSpellSelection" type="button">Save Selection</button>
        <button id="closeSpellManager" type="button">Close</button>
      </div>
    </div>
  </div>

  <div id="main" class="page">
    <form id="characterForm" class="character-form">
      <div class="char-field">
        <label>Character Name</label>
        <input type="text" id="charName">
      </div>

      <div class="char-field">
        <label>Player</label>
        <input type="text" id="charPlayer">
      </div>

      <div class="char-field">
        <label>Class</label>
        <input type="text" id="charClass">
      </div>

      <div class="char-field small">
        <label>Level</label>
        <input type="number" id="charLevel" min="1" max="20" value="1">
      </div>

      <div class="char-field small">
        <label>Race</label>
        <input type="text" id="charRace">
      </div>

      <div class="char-field small">
        <label>Alignment</label>
        <input type="text" id="charAlignment">
      </div>

      <div class="char-field small">
        <label>Deity</label>
        <input type="text" id="charDeity">
      </div>
    </form>
  <div class="hp-section">
    <label for="currentHP">Hit Points</label>
    <div class="hp-bar-container">
      <div id="hp-bar" class="hp-bar"></div>
    </div>
    <div class="hp-values">
      <input type="number" id="currentHP" value="35" min="0">
      <span>/</span>
      <input type="number" id="maxHP" value="50" min="1">
    </div>
  </div>

  <div class="attributes-section">
    <div class="attribute-box">
      <label>Strength</label>
      <input type="number" id="str" class="attr-input" min="1" max="30" value="10">
      <input type="text" id="str-mod" class="mod-input" readonly placeholder="+0">
    </div>
    <div class="attribute-box">
      <label>Dexterity</label>
      <input type="number" id="dex" class="attr-input" min="1" max="30" value="10">
      <input type="text" id="dex-mod" class="mod-input" readonly placeholder="+0">
    </div>
    <div class="attribute-box">
      <label>Constitution</label>
      <input type="number" id="con" class="attr-input" min="1" max="30" value="10">
      <input type="text" id="con-mod" class="mod-input" readonly placeholder="+0">
    </div>
    <div class="attribute-box">
      <label>Intelligence</label>
      <input type="number" id="int" class="attr-input" min="1" max="30" value="10">
      <input type="text" id="int-mod" class="mod-input" readonly placeholder="+0">
    </div>
    <div class="attribute-box">
      <label>Wisdom</label>
      <input type="number" id="wis" class="attr-input" min="1" max="30" value="10">
      <input type="text" id="wis-mod" class="mod-input" readonly placeholder="+0">
    </div>
    <div class="attribute-box">
      <label>Charisma</label>
      <input type="number" id="cha" class="attr-input" min="1" max="30" value="10">
      <input type="text" id="cha-mod" class="mod-input" readonly placeholder="+0">
    </div>
  </div>
  <div class="saving-throws-section">
    <h3>Saving Throws</h3>

    <div class="saving-throw" data-type="fortitude">
      <label>Fortitude</label><a>(constitution)</a>
      <div class="saving-inputs">
        <input type="number" id="fort-attr" class="save-input" placeholder="Attr" readonly>
        <input type="number" id="fort-base" class="save-input" placeholder="Base">
        <input type="number" id="fort-custom" class="save-input" placeholder="Custom">
        <span class="save-total" id="fort-total">+0</span>
      </div>
    </div>

    <div class="saving-throw" data-type="reflex">
      <label>Reflex</label><a>(Dexterity)</a>
      <div class="saving-inputs">
        <input type="number" id="ref-attr" class="save-input" placeholder="Attr" readonly>
        <input type="number" id="ref-base" class="save-input" placeholder="Base">
        <input type="number" id="ref-custom" class="save-input" placeholder="Custom">
        <span class="save-total" id="ref-total">+0</span>
      </div>
    </div>

    <div class="saving-throw" data-type="will">
      <label>Will</label><a>(Wisdom)</a>
      <div class="saving-inputs">
        <input type="number" id="will-attr" class="save-input" placeholder="Attr" readonly>
        <input type="number" id="will-base" class="save-input" placeholder="Base">
        <input type="number" id="will-custom" class="save-input" placeholder="Custom">
        <span class="save-total" id="will-total">+0</span>
      </div>
    </div>
  </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
